<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        html {
            scroll-behavior: smooth;
        }

        *,
        p {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .price,
        .product_Type,
        .custom_label {
            display: flex;
            justify-content: center;
        }

        .price,
        .product_Type {
            padding: 30px 0;
        }

        .show_product_area,
        .customize_product_area {
            padding: 30px 0;
        }

        .product_Type button {
            color: #ccc;
            border-radius: 8px;
            background-color: #555;
            border: none;
            height: 40px;
            padding: 10px;
            margin: 0px 15px;
            transition-duration: 0.2s;
        }

        .product_Type button:hover{
            color: #fff;
        }

        .product_Type button:focus {
            outline: 0;
        }

        .product_Type button:active {
            color: #000;
            background-color: #ddd;
        }

        .customize .title {
            padding: 20px 0;
        }

        .customize label {
            width: 100%;
            height: 100px;
            border: 1px solid #ccc;
            border-radius: 10px;
            transition-duration: .2s;
            position: relative;
        }

        .customize label::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border: 5px solid rgba(1, 1, 1, 0);
            border-radius: 10px;
            top: 0;
            right: 0;
            left: 0;
            transition-duration: .2s;
        }

        .product_display label {
            position: relative;
        }

        .product_display #product_name {
            text-align: center;
        }

        .product_display label::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border: 5px solid rgba(1, 1, 1, 0);
            border-radius: 10px;
            top: 0;
            right: 0;
            left: 0;
            transition-duration: .2s;
        }

        .product_display input:checked~label::after {
            border: 5px solid rgba(1, 1, 1, .3);
        }

        .customize input:checked~label {
            border: none;
        }

        .customize input:checked~label::after {
            border: 5px solid rgba(1, 1, 1, .3);
        }

        .radio_btn input {
            display: none;
        }

        .radio_btn label {
            padding: 15px;
            box-sizing: border-box;
        }

        .item {
            width: 100%;
        }

        #product_img img {
            width: 100%;
        }

        #choosed_product {
            position: relative;
        }

        .choosed_product_wrap {
            padding-top: 50px;
            position: sticky;
            top: 0;
        }

        #choosed_product img {
            width: 100%;
        }

        .product_display {
            flex-wrap: wrap;
        }

        #custom_content,
        #custom_price {
            display: flex;
            align-items: center;
        }

        #custom_price {
            justify-content: center;
            color: #bbb;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="product_Type">
                    <button onclick="show_products(this)" id="Mac">Mac</button>
                    <button onclick="" id="iPad">iPad</button>
                    <button onclick="" id="IPhone">iPhone</button>
                    <button onclick="" id="iWatch">iWatch</button>
                </div>
            </div>
        </div>
        <div class="row show_product_area">
            <div class="col-12">
                <div class="row product_display">
                    <div class="col-4">
                        <div class="radio_btn">
                            <input type="radio" name="select_product" id="MacBookPro13">
                            <label class="item" for="MacBookPro13">
                                <div id="product_img">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp13touch-space-select-201807_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1539892088247"
                                        alt="">
                                </div>
                                <div id="product_name">
                                    <h3>MacBook Pro 16 吋</h3>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="radio_btn">
                            <input type="radio" name="select_product" id="MacBookPro16">
                            <label class="item" for="MacBookPro16">
                                <div id="product_img">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp13touch-space-select-201807_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1539892088247"
                                        alt="">
                                </div>
                                <div id="product_name">
                                    <h3>MacBook Pro 16 吋</h3>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="radio_btn">
                            <input type="radio" name="select_product" id="MacBookAir">
                            <label class="item" for="MacBookAir">
                                <div id="product_img">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp13touch-space-select-201807_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1539892088247"
                                        alt="">
                                </div>
                                <div id="product_name">
                                    <h3>MacBook Pro 16 吋</h3>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row customize_product_area">
            <div class="col-6" id="choosed_product">
                <div class="choosed_product_wrap">
                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp16touch-silver-select-201911_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1573153623825"
                        alt="">
                    <!-- <div class="choose_color_area row" id="color">
                        <div class="radio_btn">
                            <input type="radio" name="custom_color" id="gray">
                            <label for="gray" class="custom_label">
                                <label class="show_color"></label>
                                <p>gray</p>
                            </label>
                        </div>
                    </div> -->
                    <div class="price row">
                        <h4>售價：NT$</h4>
                        <h4 id="product_price_sum">89900</h4>
                    </div>
                </div>
            </div>
            <div class="col-6 customize">
                <h4 class="title">選擇你的升級</h4>
                <div class="color">
                    <h5>顏色？</h5>
                    <div class="radio_btn">
                        <input type="radio" name="custom_color" id="gray">
                        <label for="gray" class="custom_label">
                            <div class="col-8" id="custom_content">
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel, inventore distinctio
                                </p>
                            </div>
                            <div class="col-4" id="custom_price">
                                <p>+2560</p>
                            </div>
                        </label>
                    </div>
                    <div class="radio_btn">
                        <input type="radio" name="custom_color" id="black">
                        <label for="black" class="custom_label">
                            <div class="col-8" id="custom_content">
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel, inventore distinctio
                                </p>
                            </div>
                            <div class="col-4" id="custom_price">
                                <p>+2560</p>
                            </div>
                        </label>
                    </div>
                    <div class="radio_btn">
                        <input type="radio" name="custom_color" id="white">
                        <label for="white" class="custom_label">
                            <div class="col-8" id="custom_content">
                                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel, inventore distinctio
                                </p>
                            </div>
                            <div class="col-4" id="custom_price">
                                <p>+2560</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <script>
        window.onload = clearAll();
        //////////////////////////////////////////
        var Apple_product = {
            Mac: {
                MacBook_Air: {
                    name: 'MacBook Air',
                    id: 'MacBook_Air',
                    price: 1299,
                    color: {
                        gray: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/macbook-air-space-gray-select-201810?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1541713862468',
                        silver: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/macbook-air-silver-select-201810?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1541713861325',
                        golden: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/macbook-air-gold-select-201810?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1541713859040'
                    },
                    custom_info: {
                        Processor: {
                            i5: {
                                content: '1.1GHz quad-core 10th-generation Intel Core i5 processor, Turbo Boost up to 3.5GHz',
                                price: 0
                            },
                            i7: {
                                content: '1.2GHz quad-core 10th-generation Intel Core i7 processor, Turbo Boost up to 3.8GHz',
                                price: 150
                            }
                        },
                        Memory: {
                            _8gb: {
                                content: '8GB 3733MHz LPDDR4X memory',
                                price: 0
                            },
                            _16gb: {
                                content: '16GB 3733MHz LPDDR4X memory',
                                price: 200
                            }
                        },
                        Storage: {
                            _512gb: {
                                content: '512GB SSD storage',
                                price: 0
                            },
                            _1tb: {
                                content: '1TB SSD storage',
                                price: 200
                            },
                            _2tb: {
                                content: '2TB SSD storage',
                                price: 600
                            }

                        }
                    }
                },
                MacBookPro_13: {
                    name: 'MacBook Pro 13-inch',
                    id: 'MacBookPro_13',
                    price: 1799,
                    color: {
                        gray: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp13touch-space-select-201807_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1539892088247',
                        silver: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp13touch-silver-select-201807_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1539892092211'
                    },
                    custom_info: {
                        Processor: {
                            i5: {
                                content: '2.4GHz quad‑core 8th‑generation Intel Core i5 processor, Turbo Boost up to 4.1GHz',
                                price: 0
                            },
                            i7: {
                                content: '2.8GHz quad‑core 8th‑generation Intel Core i7 processor, Turbo Boost up to 4.7GHz',
                                price: 300
                            }
                        },
                        Memory: {
                            _8gb: {
                                content: '8GB 2133MHz LPDDR3 memory',
                                price: 0
                            },
                            _16gb: {
                                content: '16GB 2133MHz LPDDR3 memory',
                                price: 200
                            }
                        },
                        Storage: {
                            _256gb: {
                                content: '256GB SSD storage',
                                price: 0
                            },
                            _512gb: {
                                content: '512GB SSD storage',
                                price: 200
                            },
                            _1tb: {
                                content: '1TB SSD storage',
                                price: 400
                            },
                            _2tb: {
                                content: '2TB SSD storage',
                                price: 800
                            },
                        }
                    }
                },
                MacBookPro_16: {
                    name: 'MacBook Pro 16-inch',
                    id: 'MacBookPro_16',
                    price: 2799,
                    color: {
                        gray: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp16touch-space-select-201911_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1573165435411',
                        silver: 'https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp16touch-silver-select-201911_GEO_TW?wid=904&hei=840&fmt=jpeg&qlt=80&op_usm=0.5,0.5&.v=1573153623825'
                    },
                    custom_info: {
                        Processor: {
                            i9_1: {
                                content: '2.3GHz 8‑core 9th‑generation Intel Core i9 processor, Turbo Boost up to 4.8GHz',
                                price: 0
                            },
                            i9_2: {
                                content: '2.4GHz 8‑core 9th‑generation Intel Core i9 processor, Turbo Boost up to 5.0GHz',
                                price: 200
                            }
                        },
                        Memory: {
                            _16gb: {
                                content: '16GB 2666MHz DDR4 memory',
                                price: 0
                            },
                            _32gb: {
                                content: '32GB 2666MHz DDR4 memory',
                                price: 400
                            },
                            _64gb: {
                                content: '64GB 2666MHz DDR4 memory',
                                price: 800
                            }
                        },
                        Graphics: {
                            _4gb: {
                                content: 'AMD Radeon Pro 5500M with 4GB of GDDR6 memory',
                                price: 0
                            },
                            _8gb: {
                                content: 'AMD Radeon Pro 5500M with 8GB of GDDR6 memory',
                                price: 100
                            }
                        },
                        Storage: {
                            _1tb: {
                                content: '1TB SSD storage',
                                price: 0
                            },
                            _2tb: {
                                content: '2TB SSD storage',
                                price: 400
                            },
                            _4tb: {
                                content: '4TB SSD storage',
                                price: 1000
                            },
                            _8tb: {
                                content: '8TB SSD storage',
                                price: 2200
                            },
                        }
                    }
                }
            },
            iPad: {},
            iPhone: {},
            iWatch: {}
        }
        //////////////////////////////////////////
        var product_selected;
        var product_wanted;
        var price_array = {};
        var origin_price = 0;

        function clearAll() {
            clear_display_product();
            clear_choosed_product();
            clear_customizing();
            price_array = {}
            origin_price = 0;
        }

        function clear_display_product() {
            let product_display = document.querySelector('.product_display');
            product_display.innerHTML = '';
        }

        function clear_choosed_product() {
            let choosed_product_wrap = document.querySelector('.choosed_product_wrap');
            choosed_product_wrap.innerHTML = '';
        }

        function clear_customizing() {
            let customize = document.querySelector('.customize');
            customize.innerHTML = '';
        }

        function show_products(btn) {
            clearAll();
            product_selected = btn.id.toString();
            let products = Apple_product[product_selected];
            for (let type in products) {
                append_product_at_display_area(products[type]);
            }
        }

        function append_product_at_display_area(item) {
            let Node = document.querySelector('.product_display');

            let col_4 = document.createElement('div');
            col_4.setAttribute('class', 'col-4');
            col_4.innerHTML =
                '<div class="radio_btn">' +
                `<input type="radio" name="select_product" id="${item.id}" onclick="show_product_info(this)">` +
                `<label class="item" for="${item.id}">` +
                '<div id="product_img">' +
                `<img src="${item.color.gray}" alt="">` +
                '</div>' +
                '<div id="product_name">' +
                `<h3>${item.name}</h3>` +
                '</div>' +
                '</label>' +
                '</div>';
            Node.appendChild(col_4);
        }

        function show_product_info(btn) {
            clear_choosed_product();
            clear_customizing();
            product_wanted = btn.id.toString();
            origin_price = Apple_product[product_selected][product_wanted].price;
            append_wanted_product_img(Apple_product[product_selected][product_wanted].color.gray);
            append_customizing_info();
        }

        function append_wanted_product_img(img_path) {
            let choosed_product_wrap = document.querySelector('.choosed_product_wrap');
            choosed_product_wrap.innerHTML =
                `<img src="${img_path}" alt="">` +
                '<div class="price row">' +
                '<h4>$</h4>' +
                `<h4 id="product_price_sum">${origin_price.toString()}</h4>` +
                '</div>';
        }

        function append_customizing_info() {
            let customize = document.querySelector('.customize');
            customize.innerHTML = '<h4 class="title">Choose your desirable upgrades</h4>'
            let customizing_info = Apple_product[product_selected][product_wanted].custom_info;
            for (let info in customizing_info) {
                let customizing_type = document.createElement('div');
                customizing_type.setAttribute('class', `${product_wanted}_${info}`);

                let customizing_info_title = document.createElement('h5');
                customizing_info_title.innerHTML = `${info}`;

                customize.appendChild(customizing_type);
                customizing_type.appendChild(customizing_info_title);
                price_array[`${info}`] = 0;
                for (let custom_detial in customizing_info[info]) {
                    let radio_button = document.createElement('div');
                    radio_button.setAttribute('class', 'radio_btn');
                    radio_button.innerHTML =
                        `<input type="radio" name="${info}" id="${custom_detial}" onclick="calculate_price(this,${customizing_info[info][custom_detial].price})">` +
                        `<label for="${custom_detial}" class="custom_label">` +
                        '<div class="col-8" id="custom_content">' +
                        `<p>${customizing_info[info][custom_detial].content}</p>` +
                        '</div>' +
                        '<div class="col-4" id="custom_price">' +
                        `<p>+${customizing_info[info][custom_detial].price.toString()} USD</p>` +
                        '</div>' +
                        '</label>';

                    customizing_type.appendChild(radio_button);
                }
                let first_radio_btn = document.querySelector(`.customize>.${product_wanted}_${info}`).children[1];
                first_radio_btn.querySelector('#custom_price>p').innerHTML = '';
                first_radio_btn.querySelector('input').checked = true;
            }
            customize.scrollIntoView();
        }

        function calculate_price(info, price) {
            price_array[info.name] = price;
            let total_price = origin_price;
            for (let num in price_array) {
                total_price += price_array[num];
            }
            let price_tag = document.querySelector('#product_price_sum');
            price_tag.innerHTML = total_price.toString();
        }
    </script>
</body>

</html>